pub struct Rect {
    x: i32,
    y: i32,
    width: i32,
    height: i32
}

pub fn Shape(rect: Rect) -> Shape {
    Shape(
        fn() { Point(add(rect.x, div(rect.width, 2)), add(rect.y, div(rect.height, 2))); },
        fn(dx, dy) {
            let result = Rect(add(rect.x, dx), add(rect.y, dy), rect.width, rect.height);

            Shape(result);
        }, fn() {
             add(add("Rect(", rect.x, ",", rect.y), add(add(",", rect.width, ",", rect.height), ")"));
        }
    );
}