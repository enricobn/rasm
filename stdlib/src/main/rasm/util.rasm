pub fn random(max: int) -> int {
    let r = random();
    r.sub(r.div(max).mul(max));
}

pub struct EnumerateEntry<T> {
    index: int,
    value: T
}

pub fn indexOf<M,T>(list: M<EnumerateEntry<T>>, what: T) -> Option<int> {
    list
        .filter(fn(entry) { entry.value.eq(what); })
        .first
        .map(index);
}